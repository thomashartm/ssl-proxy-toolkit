# name: Default Config
# description: Proxy for example.com to localhost:8080

worker_processes 1;

# Error log path relative to the prefix
error_log  logs/error.log warn;
pid        logs/nginx.pid;

events { worker_connections 1024; }

http {
    # Logging format
    access_log logs/access.log;

    server {
        listen 443 ssl;
        server_name example.com;

        # Paths are relative to the project root
        ssl_certificate      certs/example.com.pem;
        ssl_certificate_key  certs/example.com-key.pem;

        location /auth {
            proxy_pass http://127.0.0.1:8080;
            proxy_set_header Host $host;
        }
    }
}
